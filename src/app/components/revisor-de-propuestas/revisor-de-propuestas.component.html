<div class="mat-app-background basic-container">
  <h2>RevisiÃ³n de Propuestas</h2>

  <mat-accordion>
    <mat-expansion-panel *ngFor="let propuesta of propuestas">
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{ propuesta.titulo }}
        </mat-panel-title>
      </mat-expansion-panel-header>

      <div class="contenido-revision">
        <p><strong>ğŸ“„ Archivo:</strong> <a [href]="propuesta.archivo" target="_blank">Ver Propuesta</a></p>

        <!-- Mostrar Alumnos -->
        <p *ngIf="propuesta.alumno1Id || propuesta.alumno2Id">
          <strong>ğŸ‘¨â€ğŸ“ Alumnos:</strong>
          {{ propuesta.alumno1Id ? getAlumnoNombre(propuesta.alumno1Id) : '' }}
          {{ propuesta.alumno2Id ? ' - ' + getAlumnoNombre(propuesta.alumno2Id) : '' }}
        </p>

        <!-- Selector de Estado -->
        <mat-form-field appearance="fill">
          <mat-label>Estado</mat-label>
          <mat-select [(ngModel)]="propuesta.estado">
            <mat-option value="Aprobado">Aprobado</mat-option>
            <mat-option value="Rechazado">Rechazado</mat-option>
            <mat-option value="En RevisiÃ³n">En RevisiÃ³n</mat-option>
          </mat-select>
        </mat-form-field>

        <!-- Comentario -->
        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Observaciones</mat-label>
          <textarea matInput [(ngModel)]="propuesta.observaciones"></textarea>
        </mat-form-field>

        <!-- BotÃ³n Guardar -->
        <button mat-raised-button color="primary" (click)="guardarRevision(propuesta)">Guardar RevisiÃ³n</button>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
</div>
